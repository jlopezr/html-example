<html>
    <head>
        <script>
            /*
            function fetchExampleANTIGUA() {
                fetch('https://jsonplaceholder.typicode.com/todos/1')
                .then((response) => {
                    console.log(response);
                    return response.json();
                }).then((data) => {
                    console.log(data);
                });
            }
            */

            async function fetchTodo() {                
                response = fetch('https://jsonplaceholder.typicode.com/todos/1');
                for(i=0;i<10;i++) {
                    console.log(i);
                }
                result = await response;
                data = await result.json();
                console.log(data);                                
            }

            async function fetchComment() {
                response = await fetch('https://jsonplaceholder.typicode.com/comments/1');
                data = await response.json();
                console.log(data);
            }

            async function main() {
                initial_time = new Date().getTime();
                
                console.log("Voy a cargar Todo");
                todo = fetchTodo();
                console.log("Voy a cargar Comment");
                comment = fetchComment();

                await todo;
                await comment;
                console.log("He acabado");
                final_time = new Date().getTime();
                console.log("Tiempo total: " + (final_time - initial_time) + "ms");
            }

            document.addEventListener("DOMContentLoaded", main);
        </script>
    </head>
    <body>

    </body>
</html>